<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinAI - AI-Powered Financial Health Assistant</title>
    <meta name="description" content="Track income, spending, and investment goals with AI-optimized budgeting, saving, and investment plans">
    
    <!-- External Resources -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        "primary": "#2563eb",
                        "primary-dark": "#1d4ed8",
                        "secondary": "#10b981",
                        "secondary-dark": "#059669",
                        "accent": "#8b5cf6",
                        "dark": "#1f2937",
                        "light": "#f8fafc"
                    },
                    fontFamily: {
                        "sans": ["Inter", "system-ui", "-apple-system", "sans-serif"]
                    },
                    boxShadow: {
                        "soft": "0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",
                        "medium": "0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"
                    }
                }
            }
        }
    </script>

    <!-- Custom CSS for Modals, Toasts, and Animations -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Gradients & Backgrounds */
        .gradient-bg {
            background: linear-gradient(135deg, #2563eb 0%, #8b5cf6 100%);
        }
        
        .progress-ring {
            transform: rotate(-90deg);
            transition: stroke-dashoffset 1s ease-in-out;
        }
        
        .ai-suggestion { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); }
        .investment-card { background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); }
        .budget-card { background: linear-gradient(135deg, #fef7ff 0%, #fce7f3 100%); }

        /* --- Custom Modal System --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 500px;
            transform: translateY(20px);
            transition: all 0.3s ease;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }

        /* --- Toast Notification System --- */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 200;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #2563eb;
            display: flex;
            align-items: center;
            min-width: 300px;
            transform: translateX(100%);
            animation: slideIn 0.3s forwards;
        }

        .toast.success { border-left-color: #10b981; }
        .toast.error { border-left-color: #ef4444; }

        @keyframes slideIn {
            to { transform: translateX(0); }
        }

        @keyframes fadeOut {
            to { opacity: 0; transform: translateX(100%); }
        }

        /* Loader Animation */
        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3498db;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 flex flex-col">

    <!-- Modal Container (Hidden by default) -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <h3 id="modal-title" class="text-xl font-bold text-gray-900 mb-4">Title</h3>
            <div id="modal-body" class="mb-6 text-gray-600">
                <!-- Dynamic Content -->
            </div>
            <div class="flex justify-end space-x-3">
                <button id="modal-cancel" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors">Cancel</button>
                <button id="modal-confirm" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Header / Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2 cursor-pointer" onclick="window.scrollTo({top:0, behavior:'smooth'})">
                    <div class="w-10 h-10 rounded-lg gradient-bg flex items-center justify-center">
                        <i class="fas fa-robot text-white text-xl"></i>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900">Fin<span class="text-primary">AI</span></h1>
                </div>
                
                <!-- Desktop Nav -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="javascript:void(0)" onclick="scrollToSection('dashboard')" class="text-gray-700 hover:text-primary transition-colors">Dashboard</a>
                    <a href="javascript:void(0)" onclick="scrollToSection('tracking')" class="text-gray-700 hover:text-primary transition-colors">Tracking</a>
                    <a href="javascript:void(0)" onclick="scrollToSection('ai-insights')" class="text-gray-700 hover:text-primary transition-colors">AI Insights</a>
                    <a href="javascript:void(0)" onclick="scrollToSection('investment')" class="text-gray-700 hover:text-primary transition-colors">Investments</a>
                    <a href="javascript:void(0)" onclick="scrollToSection('goals')" class="text-gray-700 hover:text-primary transition-colors">Goals</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button class="hidden md:block px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors shadow-sm" onclick="openSignUpModal()">
                        Get Started
                    </button>
                    <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center cursor-pointer hover:bg-gray-200" onclick="showToast('Profile settings coming soon!', 'info')">
                        <i class="fas fa-user text-gray-600"></i>
                    </div>
                    <!-- Mobile Menu Button -->
                    <button class="md:hidden" onclick="toggleMobileMenu()">
                        <i id="mobile-menu-icon" class="fas fa-bars text-gray-600 text-xl"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu (Hidden) -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-gray-100 pt-4">
                <div class="flex flex-col space-y-4">
                    <a href="javascript:void(0)" onclick="scrollToSection('dashboard'); toggleMobileMenu()" class="text-gray-700 hover:text-primary">Dashboard</a>
                    <a href="javascript:void(0)" onclick="scrollToSection('tracking'); toggleMobileMenu()" class="text-gray-700 hover:text-primary">Tracking</a>
                    <a href="javascript:void(0)" onclick="scrollToSection('ai-insights'); toggleMobileMenu()" class="text-gray-700 hover:text-primary">AI Insights</a>
                    <a href="javascript:void(0)" onclick="scrollToSection('investment'); toggleMobileMenu()" class="text-gray-700 hover:text-primary">Investments</a>
                    <button class="w-full px-6 py-2 bg-primary text-white rounded-lg text-center" onclick="openSignUpModal()">Get Started</button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg text-white">
        <div class="container mx-auto px-4 py-16 md:py-24">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-4xl md:text-5xl font-bold mb-6">AI-Powered Financial Health Assistant</h2>
                <p class="text-xl mb-8 opacity-90">Track income, spending, and investment goals. Get AI-optimized budgeting, saving, and investment plans to improve your financial health.</p>
                <div class="flex flex-col md:flex-row gap-4 justify-center">
                    <!-- "Start Free Trial" button removed here -->
                    <button onclick="showToast('Demo video player would load here.', 'info')" class="px-8 py-3 bg-transparent border-2 border-white rounded-lg font-semibold hover:bg-white hover:text-primary transition-colors">
                        Watch Demo
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="py-12 bg-white">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900">Your Financial Dashboard</h2>
                <div class="flex items-center space-x-4">
                    <span id="last-updated" class="text-gray-600">Last updated: Today</span>
                    <button id="refresh-dashboard" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center">
                        <i id="refresh-icon" class="fas fa-sync-alt mr-2"></i>Refresh
                    </button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <!-- Total Balance Card -->
                <div class="bg-white rounded-xl shadow-medium p-6 border-l-4 border-primary">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-600 font-medium">Total Balance</h3>
                        <i class="fas fa-wallet text-primary text-xl"></i>
                    </div>
                    <p id="total-balance" class="text-3xl font-bold text-gray-900">$45,287.50</p>
                    <p class="text-green-600 text-sm mt-2">
                        <i class="fas fa-arrow-up mr-1"></i>12.5% from last month
                    </p>
                </div>
                
                <!-- Monthly Income Card -->
                <div class="bg-white rounded-xl shadow-medium p-6 border-l-4 border-secondary">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-600 font-medium">Monthly Income</h3>
                        <i class="fas fa-money-check-alt text-secondary text-xl"></i>
                    </div>
                    <p id="monthly-income" class="text-3xl font-bold text-gray-900">$6,850.00</p>
                    <p id="income-sources-count" class="text-gray-500 text-sm mt-2">2 income sources tracked</p>
                </div>
                
                <!-- Monthly Spending Card -->
                <div class="bg-white rounded-xl shadow-medium p-6 border-l-4 border-accent">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-600 font-medium">Monthly Spending</h3>
                        <i class="fas fa-shopping-cart text-accent text-xl"></i>
                    </div>
                    <p id="monthly-spending" class="text-3xl font-bold text-gray-900">$3,245.75</p>
                    <p class="text-red-600 text-sm mt-2">
                        <i class="fas fa-arrow-down mr-1"></i>8.2% from budget
                    </p>
                </div>
                
                <!-- Investment Value Card -->
                <div class="bg-white rounded-xl shadow-medium p-6 border-l-4 border-purple-500">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-600 font-medium">Investment Value</h3>
                        <i class="fas fa-chart-line text-purple-500 text-xl"></i>
                    </div>
                    <p id="investment-value" class="text-3xl font-bold text-gray-900">$18,540.25</p>
                    <p class="text-green-600 text-sm mt-2">
                        <i class="fas fa-arrow-up mr-1"></i>5.3% growth
                    </p>
                </div>
            </div>
            
            <!-- Financial Health Score -->
            <div class="bg-white rounded-xl shadow-medium p-6 mb-8">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold text-gray-900">Your Financial Health Score</h3>
                    <div class="flex items-center space-x-4">
                        <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">
                            Good
                        </span>
                        <button class="text-primary hover:text-primary-dark" onclick="showToast('Score is calculated based on savings rate, debt, and consistency.', 'info')">
                            <i class="fas fa-question-circle"></i>
                        </button>
                    </div>
                </div>
                
                <div class="flex flex-col md:flex-row items-center md:items-start gap-8">
                    <div class="relative w-48 h-48">
                        <svg class="w-full h-full" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#e5e7eb" stroke-width="8"/>
                            <circle id="health-ring" cx="50" cy="50" r="45" fill="none" stroke="#10b981" stroke-width="8" 
                                    stroke-dasharray="283" stroke-dashoffset="70" stroke-linecap="round"
                                    class="progress-ring"/>
                            <text x="50" y="50" text-anchor="middle" dy="0.3em" class="text-3xl font-bold fill-gray-900">78</text>
                            <text x="50" y="60" text-anchor="middle" dy="1.5em" class="text-sm fill-gray-600">out of 100</text>
                        </svg>
                    </div>
                    
                    <div class="flex-1">
                        <h4 class="text-lg font-semibold mb-4">AI Assessment Summary</h4>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-gray-700">Budget Efficiency</span>
                                    <span class="font-medium">85%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-secondary h-2 rounded-full" style="width: 85%"></div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-gray-700">Savings Rate</span>
                                    <span class="font-medium">72%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-primary h-2 rounded-full" style="width: 72%"></div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-gray-700">Investment Growth</span>
                                    <span class="font-medium">68%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-purple-500 h-2 rounded-full" style="width: 68%"></div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-gray-700">Debt Management</span>
                                    <span class="font-medium">90%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 90%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tracking Section -->
    <section id="tracking" class="py-12 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Income & Spending Tracking</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Spending Breakdown -->
                <div class="bg-white rounded-xl shadow-medium p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Spending Breakdown</h3>
                        <select class="border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:border-primary">
                            <option>This Month</option>
                            <option>Last Month</option>
                            <option>Last 3 Months</option>
                        </select>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="cursor-pointer group">
                            <div class="flex justify-between mb-1">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 rounded-full bg-primary mr-2"></div>
                                    <span class="text-gray-700 group-hover:text-primary">Housing & Utilities</span>
                                </div>
                                <span class="font-medium">$1,250</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-primary h-2 rounded-full group-hover:bg-primary-dark transition-colors" style="width: 38%"></div>
                            </div>
                        </div>
                        
                        <div class="cursor-pointer group">
                            <div class="flex justify-between mb-1">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 rounded-full bg-secondary mr-2"></div>
                                    <span class="text-gray-700 group-hover:text-secondary">Food & Dining</span>
                                </div>
                                <span class="font-medium">$850</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-secondary h-2 rounded-full group-hover:bg-secondary-dark transition-colors" style="width: 26%"></div>
                            </div>
                        </div>
                        
                        <div class="cursor-pointer group">
                            <div class="flex justify-between mb-1">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 rounded-full bg-accent mr-2"></div>
                                    <span class="text-gray-700 group-hover:text-accent">Transportation</span>
                                </div>
                                <span class="font-medium">$450</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-accent h-2 rounded-full opacity-80 group-hover:opacity-100 transition-opacity" style="width: 14%"></div>
                            </div>
                        </div>

                        <!-- Additional spending items omitted for brevity in logic, but functionality would extend -->
                    </div>
                </div>
                
                <!-- Income Sources -->
                <div class="bg-white rounded-xl shadow-medium p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Income Sources</h3>
                        <button id="btn-add-income" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm">
                            <i class="fas fa-plus mr-2"></i>Add Source
                        </button>
                    </div>
                    
                    <div id="income-list" class="space-y-4">
                        <!-- Income Source 1 -->
                        <div class="income-item flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:shadow-md transition-shadow">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center mr-4">
                                    <i class="fas fa-briefcase text-green-600"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-gray-900">Primary Job</h4>
                                    <p class="text-sm text-gray-600">Software Engineer</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-gray-900">$5,800</p>
                                <p class="text-sm text-gray-600">monthly</p>
                            </div>
                        </div>
                        
                        <!-- Income Source 2 -->
                        <div class="income-item flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:shadow-md transition-shadow">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center mr-4">
                                    <i class="fas fa-laptop-code text-blue-600"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-gray-900">Freelance Work</h4>
                                    <p class="text-sm text-gray-600">Web Development</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-gray-900">$1,050</p>
                                <p class="text-sm text-gray-600">monthly average</p>
                            </div>
                        </div>
                        
                         <!-- Income Source 3 -->
                         <div class="income-item flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:shadow-md transition-shadow">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center mr-4">
                                    <i class="fas fa-chart-line text-purple-600"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-gray-900">Investment Income</h4>
                                    <p class="text-sm text-gray-600">Dividends & Interest</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-gray-900">$245</p>
                                <p class="text-sm text-gray-600">last month</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Transactions -->
            <div class="mt-8 bg-white rounded-xl shadow-medium p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold text-gray-900">Recent Transactions</h3>
                    <button class="px-4 py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition-colors">
                        View All
                    </button>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead>
                            <tr class="border-b">
                                <th class="text-left py-3 text-gray-600 font-medium">Date</th>
                                <th class="text-left py-3 text-gray-600 font-medium">Description</th>
                                <th class="text-left py-3 text-gray-600 font-medium">Category</th>
                                <th class="text-left py-3 text-gray-600 font-medium">Amount</th>
                                <th class="text-left py-3 text-gray-600 font-medium">Status</th>
                            </tr>
                        </thead>
                        <tbody id="transaction-list">
                            <tr class="border-b hover:bg-gray-50 cursor-pointer transition-colors" onclick="showTransactionDetails('Grocery Store', -85.75)">
                                <td class="py-4">Today</td>
                                <td class="py-4 font-medium">Grocery Store</td>
                                <td class="py-4">
                                    <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Food</span>
                                </td>
                                <td class="py-4 text-red-600 font-medium">-$85.75</td>
                                <td class="py-4">
                                    <span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">Completed</span>
                                </td>
                            </tr>
                            <tr class="border-b hover:bg-gray-50 cursor-pointer transition-colors" onclick="showTransactionDetails('Salary Deposit', 2900.00)">
                                <td class="py-4">Yesterday</td>
                                <td class="py-4 font-medium">Salary Deposit</td>
                                <td class="py-4">
                                    <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Income</span>
                                </td>
                                <td class="py-4 text-green-600 font-medium">+$2,900.00</td>
                                <td class="py-4">
                                    <span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">Completed</span>
                                </td>
                            </tr>
                            <tr class="border-b hover:bg-gray-50 cursor-pointer transition-colors" onclick="showTransactionDetails('Netflix Subscription', -15.99)">
                                <td class="py-4">Dec 10</td>
                                <td class="py-4 font-medium">Netflix Subscription</td>
                                <td class="py-4">
                                    <span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">Entertainment</span>
                                </td>
                                <td class="py-4 text-red-600 font-medium">-$15.99</td>
                                <td class="py-4">
                                    <span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">Completed</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Insights Section -->
    <section id="ai-insights" class="py-12 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">AI-Powered Financial Insights</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Our AI analyzes your financial data to provide personalized recommendations for optimizing your budget, savings, and investments.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                <!-- Budget Optimization Card -->
                <div class="budget-card rounded-xl shadow-medium p-6 cursor-pointer hover:shadow-lg transition-shadow" onclick="showToast('Budget Optimization plan downloaded.', 'success')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center mr-4">
                            <i class="fas fa-chart-pie text-purple-600 text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900">Budget Optimization</h3>
                    </div>
                    <p class="text-gray-700 mb-4">AI suggests reallocating 15% of entertainment budget to savings based on your spending patterns.</p>
                    <button class="text-primary font-medium hover:text-primary-dark">
                        View Details <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
                
                <!-- Savings Strategy Card -->
                <div class="ai-suggestion rounded-xl shadow-medium p-6 cursor-pointer hover:shadow-lg transition-shadow" onclick="showToast('Savings Automation Setup initiated.', 'success')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mr-4">
                            <i class="fas fa-piggy-bank text-blue-600 text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900">Savings Strategy</h3>
                    </div>
                    <p class="text-gray-700 mb-4">Automate $300 monthly transfer to high-yield savings account to reach $10,000 goal in 2 years.</p>
                    <button class="text-primary font-medium hover:text-primary-dark">
                        Setup Automation <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
                
                <!-- Investment Recommendation -->
                <div class="investment-card rounded-xl shadow-medium p-6 cursor-pointer hover:shadow-lg transition-shadow" onclick="showToast('Diversification details sent to your email.', 'success')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mr-4">
                            <i class="fas fa-seedling text-green-600 text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900">Investment Suggestion</h3>
                    </div>
                    <p class="text-gray-700 mb-4">Consider diversifying 20% of portfolio into renewable energy ETFs for long-term growth.</p>
                    <button class="text-primary font-medium hover:text-primary-dark">
                        Explore Options <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
            
            <!-- AI Chat Assistant -->
            <div class="bg-gray-900 rounded-2xl shadow-medium overflow-hidden flex flex-col h-[500px]">
                <div class="p-6 border-b border-gray-800 flex-shrink-0">
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full gradient-bg flex items-center justify-center mr-4">
                            <i class="fas fa-robot text-white"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-white">AI Financial Assistant</h3>
                            <p class="text-gray-400">Ask questions about your finances</p>
                        </div>
                    </div>
                </div>
                
                <div id="chat-container" class="p-6 flex-1 overflow-y-auto space-y-4">
                    <div class="flex justify-end">
                        <div class="bg-primary text-white rounded-2xl rounded-tr-none px-4 py-3 max-w-xs">
                            How can I save more for retirement?
                        </div>
                    </div>
                    <div class="flex justify-start">
                        <div class="bg-gray-800 text-white rounded-2xl rounded-tl-none px-4 py-3 max-w-xs">
                            Based on your income, I recommend increasing your 401(k) contribution by 2% and opening a Roth IRA with $200 monthly contributions.
                        </div>
                    </div>
                    <div class="flex justify-end">
                        <div class="bg-primary text-white rounded-2xl rounded-tr-none px-4 py-3 max-w-xs">
                            What's my optimal emergency fund amount?
                        </div>
                    </div>
                    <div class="flex justify-start">
                        <div class="bg-gray-800 text-white rounded-2xl rounded-tl-none px-4 py-3 max-w-xs">
                            Your optimal emergency fund is $18,500 (6 months of expenses). You currently have $12,000 - consider saving $500/month to reach goal in 13 months.
                        </div>
                    </div>
                </div>
                
                <div class="p-6 bg-gray-900 border-t border-gray-800 flex-shrink-0">
                    <div class="flex space-x-4 mb-4">
                        <input type="text" id="chat-input" 
                               placeholder="Ask AI about your finances..."
                               class="flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-primary transition-colors">
                        <button id="chat-send" class="px-6 py-3 gradient-bg text-white rounded-lg hover:opacity-90 transition-opacity">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    
                    <div class="flex flex-wrap gap-2">
                        <button class="px-3 py-2 bg-gray-800 text-gray-300 rounded-lg text-sm hover:bg-gray-700 transition-colors" onclick="setChatQuery('Budget tips')">
                            Budget tips
                        </button>
                        <button class="px-3 py-2 bg-gray-800 text-gray-300 rounded-lg text-sm hover:bg-gray-700 transition-colors" onclick="setChatQuery('Investment advice')">
                            Investment advice
                        </button>
                        <button class="px-3 py-2 bg-gray-800 text-gray-300 rounded-lg text-sm hover:bg-gray-700 transition-colors" onclick="setChatQuery('Debt reduction')">
                            Debt reduction
                        </button>
                        <button class="px-3 py-2 bg-gray-800 text-gray-300 rounded-lg text-sm hover:bg-gray-700 transition-colors" onclick="setChatQuery('Tax optimization')">
                            Tax optimization
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Investment Planning -->
    <section id="investment" class="py-12 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">AI-Optimized Investment Plans</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                <!-- Portfolio Allocation -->
                <div class="lg:col-span-2 bg-white rounded-xl shadow-medium p-6">
                    <h3 class="text-xl font-bold text-gray-900 mb-6">Portfolio Allocation</h3>
                    <div class="flex items-center justify-center">
                        <div class="relative w-64 h-64">
                            <svg class="w-full h-full" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="40" fill="#3b82f6" opacity="0.1"/>
                                <path d="M50,50 L50,10 A40,40 0 0,1 86,50 Z" fill="#3b82f6"/>
                                <path d="M50,50 L86,50 A40,40 0 0,1 70,86 Z" fill="#10b981"/>
                                <path d="M50,50 L70,86 A40,40 0 0,1 30,86 Z" fill="#8b5cf6"/>
                                <path d="M50,50 L30,86 A40,40 0 0,1 14,50 Z" fill="#f59e0b"/>
                                <path d="M50,50 L14,50 A40,40 0 0,1 50,10 Z" fill="#ef4444"/>
                                <circle cx="50" cy="50" r="15" fill="white"/>
                            </svg>
                            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center">
                                <p class="text-2xl font-bold">$18,540</p>
                                <p class="text-sm text-gray-600">Total Value</p>
                            </div>
                        </div>
                        
                        <div class="ml-8 space-y-4">
                            <div class="flex items-center cursor-pointer hover:opacity-80">
                                <div class="w-4 h-4 rounded-full bg-blue-500 mr-3"></div>
                                <span class="text-gray-700">Stocks (45%)</span>
                            </div>
                            <div class="flex items-center cursor-pointer hover:opacity-80">
                                <div class="w-4 h-4 rounded-full bg-green-500 mr-3"></div>
                                <span class="text-gray-700">Bonds (25%)</span>
                            </div>
                            <div class="flex items-center cursor-pointer hover:opacity-80">
                                <div class="w-4 h-4 rounded-full bg-purple-500 mr-3"></div>
                                <span class="text-gray-700">ETFs (15%)</span>
                            </div>
                            <div class="flex items-center cursor-pointer hover:opacity-80">
                                <div class="w-4 h-4 rounded-full bg-yellow-500 mr-3"></div>
                                <span class="text-gray-700">Real Estate (10%)</span>
                            </div>
                            <div class="flex items-center cursor-pointer hover:opacity-80">
                                <div class="w-4 h-4 rounded-full bg-red-500 mr-3"></div>
                                <span class="text-gray-700">Cash (5%)</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- AI Recommendations -->
                <div class="bg-white rounded-xl shadow-medium p-6">
                    <h3 class="text-xl font-bold text-gray-900 mb-6">AI Recommendations</h3>
                    <div class="space-y-4">
                        <div class="p-4 bg-blue-50 rounded-lg">
                            <div class="flex items-start">
                                <i class="fas fa-lightbulb text-blue-500 mt-1 mr-3"></i>
                                <div>
                                    <h4 class="font-medium text-gray-900">Rebalance Portfolio</h4>
                                    <p class="text-sm text-gray-600">AI suggests rebalancing to maintain target allocation</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-green-50 rounded-lg">
                            <div class="flex items-start">
                                <i class="fas fa-chart-line text-green-500 mt-1 mr-3"></i>
                                <div>
                                    <h4 class="font-medium text-gray-900">Growth Opportunity</h4>
                                    <p class="text-sm text-gray-600">Consider tech sector ETFs for higher growth potential</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-purple-50 rounded-lg">
                            <div class="flex items-start">
                                <i class="fas fa-shield-alt text-purple-500 mt-1 mr-3"></i>
                                <div>
                                    <h4 class="font-medium text-gray-900">Risk Assessment</h4>
                                    <p class="text-sm text-gray-600">Your current risk level: Moderate (7/10)</p>
                                </div>
                            </div>
                        </div>
                        
                        <button id="btn-apply-ai" class="w-full mt-6 px-4 py-3 gradient-bg text-white rounded-lg font-medium hover:opacity-90 transition-opacity shadow-md">
                            Apply AI Recommendations
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Financial Goals -->
    <section id="goals" class="py-12 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Financial Goals & Progress</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                <!-- Emergency Fund Goal -->
                <div class="bg-white rounded-xl shadow-medium p-6 border border-gray-200">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-bold text-gray-900">Emergency Fund</h3>
                            <p class="text-sm text-gray-600">Target: $18,500</p>
                        </div>
                        <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium">
                            65%
                        </span>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-1">
                            <span id="goal-1-current">Current: $12,000</span>
                            <span>$18,500</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="goal-1-bar" class="bg-blue-500 h-2 rounded-full transition-all duration-1000" style="width: 65%"></div>
                        </div>
                    </div>
                    
                    <p class="text-sm text-gray-600 mb-4">AI recommends saving $500/month to reach goal in 13 months</p>
                    <button onclick="openBoostModal('Emergency Fund', 'goal-1')" class="w-full px-4 py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition-colors">
                        Boost Savings
                    </button>
                </div>
                
                <!-- Retirement Goal -->
                <div class="bg-white rounded-xl shadow-medium p-6 border border-gray-200">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-bold text-gray-900">Retirement Savings</h3>
                            <p class="text-sm text-gray-600">Target: $500,000</p>
                        </div>
                        <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">
                            42%
                        </span>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-1">
                            <span id="goal-2-current">Current: $210,000</span>
                            <span>$500,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="goal-2-bar" class="bg-green-500 h-2 rounded-full transition-all duration-1000" style="width: 42%"></div>
                        </div>
                    </div>
                    
                    <p class="text-sm text-gray-600 mb-4">On track to reach goal by age 65 with current contributions</p>
                    <button onclick="openBoostModal('Retirement Savings', 'goal-2')" class="w-full px-4 py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition-colors">
                        Optimize Plan
                    </button>
                </div>
                
                <!-- Vacation Goal -->
                <div class="bg-white rounded-xl shadow-medium p-6 border border-gray-200">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-bold text-gray-900">Vacation Fund</h3>
                            <p class="text-sm text-gray-600">Target: $4,000</p>
                        </div>
                        <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium">
                            75%
                        </span>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-1">
                            <span id="goal-3-current">Current: $3,000</span>
                            <span>$4,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="goal-3-bar" class="bg-purple-500 h-2 rounded-full transition-all duration-1000" style="width: 75%"></div>
                        </div>
                    </div>
                    
                    <p class="text-sm text-gray-600 mb-4">Save $200/month to reach goal in 5 months</p>
                    <button onclick="openBoostModal('Vacation Fund', 'goal-3')" class="w-full px-4 py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition-colors">
                        Track Progress
                    </button>
                </div>
            </div>
            
            <!-- New Goal Setup -->
            <div class="bg-gradient-to-r from-primary to-accent rounded-2xl p-8 text-white">
                <div class="max-w-2xl mx-auto text-center">
                    <h3 class="text-2xl font-bold mb-4">Set New Financial Goals with AI</h3>
                    <p class="mb-6 opacity-90">Our AI will create a personalized plan to help you achieve your financial objectives faster</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                        <div class="bg-white bg-opacity-10 rounded-lg p-4 cursor-pointer hover:bg-opacity-20 transition-all">
                            <i class="fas fa-home text-2xl mb-3"></i>
                            <h4 class="font-bold mb-2">Home Down Payment</h4>
                            <p class="text-sm opacity-80">AI calculates optimal savings rate</p>
                        </div>
                        <div class="bg-white bg-opacity-10 rounded-lg p-4 cursor-pointer hover:bg-opacity-20 transition-all">
                            <i class="fas fa-graduation-cap text-2xl mb-3"></i>
                            <h4 class="font-bold mb-2">Education Fund</h4>
                            <p class="text-sm opacity-80">Plan for college or skill development</p>
                        </div>
                        <div class="bg-white bg-opacity-10 rounded-lg p-4 cursor-pointer hover:bg-opacity-20 transition-all">
                            <i class="fas fa-car text-2xl mb-3"></i>
                            <h4 class="font-bold mb-2">Vehicle Purchase</h4>
                            <p class="text-sm opacity-80">Smart saving for your next car</p>
                        </div>
                    </div>
                    
                    <button onclick="openNewGoalModal()" class="px-8 py-3 bg-white text-primary rounded-lg font-bold hover:bg-gray-100 transition-colors shadow-lg">
                        Create New Goal with AI
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-auto">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-10 h-10 rounded-lg gradient-bg flex items-center justify-center">
                            <i class="fas fa-robot text-white text-xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold">Fin<span class="text-primary">AI</span></h3>
                    </div>
                    <p class="text-gray-400 mb-4">AI-powered financial health platform that helps you track, optimize, and grow your wealth.</p>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4">Product</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Features</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Pricing</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">API</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4">Company</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Careers</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-4">Legal</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="pt-8 border-t border-gray-800 text-center text-gray-400">
                <p>&copy; 2023 FinAI. All rights reserved. AI-powered financial management.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Utility Functions ---
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2
            }).format(amount);
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const icon = document.getElementById('mobile-menu-icon');
            menu.classList.toggle('hidden');
            if (menu.classList.contains('hidden')) {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            } else {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            }
        }

        // --- Toast Notification System ---
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            let icon = 'fa-check-circle';
            let colorClass = 'success';
            
            if (type === 'error') {
                icon = 'fa-exclamation-circle';
                colorClass = 'error';
            } else if (type === 'info') {
                icon = 'fa-info-circle';
                colorClass = 'info';
            }

            toast.className = `toast ${colorClass}`;
            toast.innerHTML = `
                <i class="fas ${icon} mr-3 text-lg ${type === 'success' ? 'text-green-500' : (type === 'error' ? 'text-red-500' : 'text-blue-500')}"></i>
                <span class="font-medium text-gray-800">${message}</span>
            `;

            container.appendChild(toast);

            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'fadeOut 0.3s forwards';
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 3000);
        }

        // --- Modal System ---
        let activeModalCallback = null;

        function openModal(title, htmlContent, onConfirm) {
            const overlay = document.getElementById('modal-overlay');
            const titleEl = document.getElementById('modal-title');
            const bodyEl = document.getElementById('modal-body');
            const confirmBtn = document.getElementById('modal-confirm');
            const cancelBtn = document.getElementById('modal-cancel');

            titleEl.textContent = title;
            bodyEl.innerHTML = htmlContent;
            activeModalCallback = onConfirm;

            overlay.classList.add('active');

            // Reset listeners to prevent stacking
            const newConfirmBtn = confirmBtn.cloneNode(true);
            const newCancelBtn = cancelBtn.cloneNode(true);
            confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
            cancelBtn.parentNode.replaceChild(newCancelBtn, cancelBtn);

            newCancelBtn.addEventListener('click', closeModal);
            newConfirmBtn.addEventListener('click', () => {
                if (activeModalCallback) activeModalCallback();
                closeModal();
            });
        }

        function closeModal() {
            document.getElementById('modal-overlay').classList.remove('active');
            activeModalCallback = null;
        }

        // Close modal on outside click
        document.getElementById('modal-overlay').addEventListener('click', (e) => {
            if (e.target === document.getElementById('modal-overlay')) {
                closeModal();
            }
        });

        // --- Specific Feature Interactions ---

        // 1. Dashboard Refresh
        document.getElementById('refresh-dashboard').addEventListener('click', function() {
            const icon = document.getElementById('refresh-icon');
            icon.classList.add('animate-spin');
            
            // Simulate API call delay
            setTimeout(() => {
                icon.classList.remove('animate-spin');
                document.getElementById('last-updated').textContent = 'Last updated: Just now';
                
                // Randomize balance slightly for effect
                const currentBal = 45287.50;
                const newBal = currentBal + (Math.random() * 200 - 50);
                document.getElementById('total-balance').textContent = formatCurrency(newBal);
                
                showToast('Dashboard data refreshed successfully', 'success');
            }, 1000);
        });

        // 2. Add Income Source
        document.getElementById('btn-add-income').addEventListener('click', function() {
            const formHtml = `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Source Name</label>
                        <input type="text" id="income-name" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="e.g. Dividends">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                        <input type="text" id="income-desc" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="e.g. Stock Dividends">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Monthly Amount ($)</label>
                        <input type="number" id="income-amount" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="0.00">
                    </div>
                </div>
            `;

            openModal('Add New Income Source', formHtml, () => {
                const name = document.getElementById('income-name').value;
                const desc = document.getElementById('income-desc').value;
                const amount = parseFloat(document.getElementById('income-amount').value);

                if (name && amount) {
                    // Add to DOM
                    const list = document.getElementById('income-list');
                    const newItem = document.createElement('div');
                    newItem.className = 'income-item flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:shadow-md transition-shadow animate-pulse';
                    newItem.innerHTML = `
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center mr-4">
                                <i class="fas fa-plus text-indigo-600"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900">${name}</h4>
                                <p class="text-sm text-gray-600">${desc}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-gray-900">${formatCurrency(amount)}</p>
                            <p class="text-sm text-gray-600">monthly</p>
                        </div>
                    `;
                    
                    list.appendChild(newItem);
                    
                    // Remove animation class after a second
                    setTimeout(() => newItem.classList.remove('animate-pulse'), 1000);

                    // Update Total Income
                    const incomeDisplay = document.getElementById('monthly-income');
                    let currentIncome = 6850.00;
                    incomeDisplay.textContent = formatCurrency(currentIncome + amount);

                    // Update sources count
                    const countSpan = document.getElementById('income-sources-count');
                    countSpan.textContent = '3 income sources tracked';

                    showToast(`Income source "${name}" added!`, 'success');
                } else {
                    showToast('Please fill in all fields.', 'error');
                }
            });
        });

        // 3. Transaction Details (Simple Alert Replacement)
        function showTransactionDetails(name, amount) {
            const formattedAmt = formatCurrency(amount);
            const color = amount < 0 ? 'text-red-600' : 'text-green-600';
            const html = `
                <div class="text-center">
                    <i class="fas fa-receipt text-4xl text-gray-300 mb-4"></i>
                    <h4 class="text-xl font-bold mb-2">${name}</h4>
                    <p class="${color} text-2xl font-mono font-bold mb-4">${formattedAmt}</p>
                    <p class="text-gray-500 text-sm">Transaction ID: #TRX-${Math.floor(Math.random() * 100000)}</p>
                </div>
            `;
            openModal('Transaction Details', html, () => {
                showToast('Transaction details exported.', 'info');
            });
        }

        // 4. AI Chat Interaction
        function setChatQuery(text) {
            document.getElementById('chat-input').value = text;
            document.getElementById('chat-send').click();
        }

        document.getElementById('chat-send').addEventListener('click', sendChatMessage);
        document.getElementById('chat-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendChatMessage();
        });

        function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if (!msg) return;

            const container = document.getElementById('chat-container');

            // User Message
            const userMsg = document.createElement('div');
            userMsg.className = 'flex justify-end';
            userMsg.innerHTML = `<div class="bg-primary text-white rounded-2xl rounded-tr-none px-4 py-3 max-w-xs">${msg}</div>`;
            container.appendChild(userMsg);

            input.value = '';
            container.scrollTop = container.scrollHeight;

            // AI Thinking Indicator
            const thinking = document.createElement('div');
            thinking.id = 'ai-thinking';
            thinking.className = 'flex justify-start';
            thinking.innerHTML = `
                <div class="bg-gray-800 text-white rounded-2xl rounded-tl-none px-4 py-3 max-w-xs flex items-center">
                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce mr-1"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce mr-1" style="animation-delay: 0.1s"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                </div>
            `;
            container.appendChild(thinking);
            container.scrollTop = container.scrollHeight;

            // Simulate AI Response
            setTimeout(() => {
                thinking.remove();
                const aiMsg = document.createElement('div');
                aiMsg.className = 'flex justify-start';
                
                let response = "I've analyzed your query. Based on your current spending habits, sticking to the budget is key.";
                if(msg.toLowerCase().includes('save')) response = "To save more, consider the 50/30/20 rule. Allocating 20% of your $6,850 income to savings equals $1,370/month.";
                if(msg.toLowerCase().includes('invest')) response = "Your risk tolerance is moderate. A mix of 45% stocks and 25% bonds is ideal for your current profile.";
                if(msg.toLowerCase().includes('debt')) response = "You are managing debt well (90% score). Focus on paying off high-interest credit cards first.";

                aiMsg.innerHTML = `<div class="bg-gray-800 text-white rounded-2xl rounded-tl-none px-4 py-3 max-w-xs">${response}</div>`;
                container.appendChild(aiMsg);
                container.scrollTop = container.scrollHeight;
            }, 1500);
        }

        // 5. Apply AI Recommendations
        document.getElementById('btn-apply-ai').addEventListener('click', function() {
            this.innerHTML = '<span class="loader mr-2"></span> Applying...';
            this.disabled = true;
            
            setTimeout(() => {
                this.innerHTML = 'Applied Successfully';
                this.classList.remove('gradient-bg');
                this.classList.add('bg-green-600', 'cursor-default');
                showToast('Portfolio rebalanced and optimizations applied.', 'success');
            }, 2000);
        });

        // 6. Boost Goals Modal
        function openBoostModal(goalName, goalId) {
            const html = `
                <p class="mb-4">Add a one-time boost to your <strong>${goalName}</strong> goal?</p>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Amount ($)</label>
                    <input type="number" id="boost-amount" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="100">
                </div>
            `;
            
            openModal(`Boost ${goalName}`, html, () => {
                const amount = parseFloat(document.getElementById('boost-amount').value);
                if (amount) {
                    showToast(`$${amount} added to ${goalName}!`, 'success');
                    // Update UI bar width slightly
                    const bar = document.getElementById(`${goalId}-bar`);
                    const currentWidth = parseFloat(bar.style.width);
                    if(currentWidth < 100) {
                        bar.style.width = Math.min(100, currentWidth + 5) + '%';
                    }
                }
            });
        }

        // 7. Create New Goal Modal
        function openNewGoalModal() {
            const html = `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Goal Name</label>
                        <input type="text" id="new-goal-name" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="e.g. New Car">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount ($)</label>
                        <input type="number" id="new-goal-amount" class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="10000">
                    </div>
                </div>
            `;
            
            openModal('Set New Goal', html, () => {
                const name = document.getElementById('new-goal-name').value;
                const amount = document.getElementById('new-goal-amount').value;
                if (name && amount) {
                    showToast(`AI is creating a plan for "${name}"...`, 'success');
                } else {
                    showToast('Please enter valid details.', 'error');
                }
            });
        }

        // 8. Generic Hero/Nav Button
        function openSignUpModal() {
            openModal('Get Started', `
                <div class="space-y-4">
                    <input type="email" placeholder="Enter your email" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                    <input type="password" placeholder="Create a password" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                    <p class="text-xs text-gray-500">By signing up, you agree to our Terms of Service.</p>
                </div>
            `, () => {
                showToast('Account created! Welcome to FinAI.', 'success');
            });
        }

    </script>
    <script src="script.js"></script>

</body>
</html>
=======
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FinanceAI</title>
</head>
<body class="bg-slate-50">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
</body>
</html>
>>>>>>> 01c0f361af08308cd9ef10c651eb9492de4a2292
